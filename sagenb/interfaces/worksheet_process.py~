###################################################################
# A blocking reference implementation of worksheet processes
###################################################################

class WorksheetProcess:
    def __init__(self, *args, **kwds):
        self._expect = 1
        self.__answer = ''

    def _start(self, *args, **kwds):
        pass

    def _send(self, cmd):
        # todo, make better than just "eval"
        print "input: ", cmd
        import sagenb.support as _support_
        import sagenb.notebook.interact
        try:
            exec cmd
        except Exception, msg:
            s = str(msg)
        s = "hello world"
        self.__answer = s

    def _so_far(self, wait=0.1, alternate_prompt=None):
        """
        Return whether done and output so far and new output since last
        time called.
        """
        s = self.__answer
        self.__answer = ''
        return True, s, s
    
    def sendline(self, cmd):
        print "sendline code: ", cmd
        exec cmd

    def interrupt(self):
        pass

